doctype html
html(lang="en")
  head
    meta(charset="utf-8")
    meta(name="description" content="")
    meta(name="viewport" content="width=device-width, initial-scale=1")
    meta(http-equiv='X-UA-Compatible', content='IE=edge,chrome=1')
    title Gulp One Page Template
    noscript
      link(href="./css/main.css", rel="stylesheet")  
  body
    h1 Hello world
    h2 This is h2
    p this is a p with a
      a(href="#")  link
    img(src="./dinner.jpeg" alt="Dinner in Gatlinburg Tennessee")

    script.
      function loadCSS( href, before, media, callback ){
        "use strict";
        var ss = window.document.createElement( "link" );
        var ref = before || window.document.getElementsByTagName( "script" )[ 0 ];
        var sheets = window.document.styleSheets;
        ss.rel = "stylesheet";
        ss.href = href;
        ss.media = "only x";
        if( callback ) {
          ss.onload = callback;
        }
        ref.parentNode.insertBefore( ss, ref );
        ss.onloadcssdefined = function( cb ){
          var defined;
          for( var i = 0; i < sheets.length; i++ ){
            if( sheets[ i ].href && sheets[ i ].href === ss.href ){
              defined = true;
            }
          }
            if( defined ){
              cb();
            } else {
              setTimeout(function() {
                ss.onloadcssdefined( cb );
              });
            }
        };
        ss.onloadcssdefined(function() {
          ss.media = media || "all";
        });
        return ss;
      } 
      loadCSS( "./css/main.css" );
